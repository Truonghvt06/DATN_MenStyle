<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>MenStyle - Thể loại sản phẩm</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fa;
      margin: 0;
      display: flex;
    }
    .sidebar {
      width: 240px;
      min-height: 100vh;
      background: #fff;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
      padding: 20px 0;
      transition: all 0.3s ease;
    }
    .sidebar a {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 20px;
      color: #333;
      text-decoration: none;
      font-weight: 500;
      transition: 0.3s;
      white-space: nowrap;
    }
    .sidebar a:hover {
      background: #111;
      color: #fff;
    }
    .sidebar a i { font-size: 20px; }
    .content { flex: 1; padding: 30px; }
    header {
      background-color: #111;
      color: #fff;
      padding: 15px 20px;
      font-size: 24px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 30px;
    }
    .table img { border-radius: 6px; }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <nav class="sidebar">
    <a href="/"><i class="bi bi-house"></i><span>Trang chủ</span></a>
    <a href="/products/view"><i class="bi bi-box"></i><span>Sản phẩm</span></a>
    <a href="/products/product-types/view" class="active"><i class="bi bi-tags"></i><span>Thể loại</span></a>
    <a href="/voucher/view"><i class="bi bi-ticket"></i><span>Phiếu giảm giá</span></a>
    <a href="/accounts/view"><i class="bi bi-people"></i><span>Tài khoản</span></a>
    <a href="/accounts/admin/orders"><i class="bi bi-receipt-cutoff"></i><span>Đơn hàng</span></a>
    <a href="/dashboard/stats-overview"><i class="bi bi-bar-chart-line"></i><span>Thống kê</span></a>
    <a href="/setting/view"><i class="bi bi-gear"></i><span>Cài đặt</span></a>
  </nav>

  <!-- Content -->
  <div class="content">
    <header>
      <button class="btn btn-dark"><i class="bi bi-list"></i></button>
      MenStyle - Danh sách thể loại
    </header>

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="mb-0">Danh sách thể loại</h3>
        <a href="/products/product-types/add" class="btn btn-success">
          <i class="bi bi-plus-circle"></i> Thêm loại sản phẩm
        </a>        
    </div>

    <div class="table-responsive bg-white p-3 rounded shadow-sm">
      <table class="table table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>Ảnh</th>
            <th>Tên thể loại</th>
            <th>Mô tả</th>
            <th>Ngày tạo</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody>
          <% categories.forEach(type => { %>
            <tr>
              <td>
                <% if (type.image) { %>
                  <img src="<%= type.image %>" alt="Ảnh" width="60" height="60" style="object-fit: cover;">
                <% } else { %>
                  <span class="text-muted">Không có ảnh</span>
                <% } %>
              </td>
              <td class="fw-semibold"><%= type.name %></td>
              <td><%= type.description %></td>
              <td><%= type.createdAt.toLocaleDateString("vi-VN") %></td>
              <td>
                <a href="/product-types/edit/<%= type._id %>" class="btn btn-warning btn-sm">
                  <i class="bi bi-pencil-square"></i>
                </a>
                <a href="/product-types/delete/<%= type._id %>" class="btn btn-danger btn-sm" onclick="return confirm('Xóa thể loại này?')">
                  <i class="bi bi-trash"></i>
                </a>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      const main = document.getElementById("main-content");

      sidebar.classList.toggle("collapsed");
      main.classList.toggle("collapsed");

      if (window.innerWidth <= 768) {
        sidebar.classList.toggle("active");
        main.classList.toggle("shifted");
      }
    }
  </script>
</body>
</html>
